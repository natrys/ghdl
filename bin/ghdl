#!/bin/env hy

"ghdl

Usage:
  ghdl
  ghdl [--dry-run]
  ghdl (--delete-local=<repo>)
  ghdl (-h | --help)
  ghdl (-v | --version)

Options:
  -h --help               Show this screen.
  -v --version            Show version.
  -n --dry-run            Don't download, just show plan.
  --delete-local=<repo>   Delete repo from local database.

"

(import [docopt [docopt]])
(import ghdl)

(when (= __name__ "__main__")
    (setv args (docopt __doc__ :version ghdl.__version__))
    (when (get args "--dry-run") (ghdl.set-dry))
    (if (setx repo (get args "--delete-local")) (ghdl.delete-local repo)
        (ghdl.main)))
